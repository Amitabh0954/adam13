")
print(f"
print(file_content.strip())

# No need to update the models
# Folder: backend/product_catalog_management/repositories/
# Adding update functionality in existing product_repository.py
file_content = 
# Epic Title: Product Catalog Management

from sqlalchemy.orm import Session
from backend.product_catalog_management.models.product import Product, Session as db_session

class ProductRepository:
    def __init__(self, session: Session = db_session()):
        self.session = session

    def add_product(self, product: Product):
        self.session.add(product)
        self.session.commit()

    def update_product(self, product: Product):
        existing_product = self.session.query(Product).filter_by(id=product.id).first()
        if existing_product:
            existing_product.name = product.name
            existing_product.price = product.price
            existing_product.description = product.description
            existing_product.category_id = product.category_id
            self.session.commit()

    def get_product_by_name(self, name: str) -> Product:
        return self.session.query(Product).filter_by(name=name).first()

    def get_product_by_id(self, product_id: int) -> Product:
        return self.session.query(Product).filter_by(id=product_id).first()

    def get_all_products(self):
        return self.session.query(Product).all()


memory_ledger["emitted_file_paths"].append(f"backend/product_catalog_management/repositories/product_repository.py")

print("