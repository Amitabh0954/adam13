")
print(f"
print(file_content.strip())

# Folder: backend/shopping_cart_functionality/repositories/
# File: shopping_cart_repository.py
file_content = 
# Epic Title: Shopping Cart Functionality

from sqlalchemy.orm import Session
from backend.shopping_cart_functionality.models.shopping_cart import ShoppingCart, Session as db_session
from backend.shopping_cart_functionality.models.shopping_cart_item import ShoppingCartItem

class ShoppingCartRepository:
    def __init__(self, session: Session = db_session()):
        self.session = session

    def create_cart(self, user_id: int) -> ShoppingCart:
        cart = ShoppingCart(user_id=user_id)
        self.session.add(cart)
        self.session.commit()
        return cart

    def get_cart_by_user_id(self, user_id: int) -> ShoppingCart:
        return self.session.query(ShoppingCart).filter_by(user_id=user_id).first()

    def add_cart_item(self, cart_id: int, product_id: int, quantity: int):
        cart_item = ShoppingCartItem(cart_id=cart_id, product_id=product_id, quantity=quantity)
        self.session.add(cart_item)
        self.session.commit()

    def get_cart_items(self, cart_id: int):
        return self.session.query(ShoppingCartItem).filter_by(cart_id=cart_id).all()
    
    def remove_cart_item(self, item_id: int):
        cart_item = self.session.query(ShoppingCartItem).filter_by(id=item_id).first()
        if cart_item:
            self.session.delete(cart_item)
            self.session.commit()
            return True
        return False


memory_ledger["emitted_file_paths"].append(f"{base_folder}/repositories/shopping_cart_repository.py")
memory_ledger["folder_file_mapping"][f"{base_folder}/repositories/"].append("shopping_cart_repository.py")

print("